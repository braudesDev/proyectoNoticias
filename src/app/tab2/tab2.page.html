<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Noticias</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Formulario para agregar una nueva noticia -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Registrar Nueva Noticia</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label position="stacked">Título</ion-label>
        <ion-input [(ngModel)]="nuevaNoticia.titulo" placeholder="Ingrese el título" required></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Fecha</ion-label>
        <ion-datetime [(ngModel)]="nuevaNoticia.fecha" placeholder="Seleccione una fecha" required></ion-datetime>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Descripción</ion-label>
        <ion-textarea [(ngModel)]="nuevaNoticia.descripcion" placeholder="Ingrese la descripción" rows="4" required></ion-textarea>
      </ion-item>

      <ion-button expand="full" color="primary" (click)="agregarNoticia()">Agregar Noticia</ion-button>
    </ion-card-content>
  </ion-card>

  <!-- Verifica si hay noticias antes de intentar mostrarlas -->
  <ion-card *ngFor="let noticia of noticias">
    <ion-card-header>
      <img src="/assets/imageCard.jpeg" alt="noticia imagen">
      <ion-card-title>{{ noticia.titulo }}</ion-card-title>
      <ion-card-subtitle>{{ noticia.fecha | date: 'shortDate' }}</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      {{ noticia.descripcion }}
    </ion-card-content>

    <!-- Botón para eliminar noticia -->
    <ion-item>
      <ion-button color="danger" (click)="eliminarNoticia(noticia.id)">
        Eliminar noticia
        <ion-icon slot="end" name="trash-outline"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-card>

  <!-- Mensaje si no hay noticias -->
  <ion-item *ngIf="noticias.length === 0">
    <ion-label>No hay noticias disponibles.</ion-label>
  </ion-item>
</ion-content>
